define([],function(){function t(t){var e={placeholder:"data-validator",context:window,container:null,errorClass:"validator_error",_counter:0};$.extend(this,e,t||{})}return t.prototype._validation=function(t){var e=null,r=t.attr(this.placeholder);if(r){var u=t.val(),r=$.parseJSON(r);for(v in r)if("messages"!=v){switch(v){case"maxLength":t.is("select")?t[0].options.length>r[v]&&(e=r.messages[v]):this[v](u,r[v])||(e=r.messages[v]);break;case"maxTo":case"maxEqualTo":case"minEqualTo":this[v](t,r[v])||(e=r.messages[v]);break;case"custom":this[v](u,t,r)||(e=r.messages[v]);break;default:this[v](u,r[v])||(e=r.messages[v])}if(e)break}return e}},t.prototype.showLabel=function(t,e){var r=$("<label/>").addClass(this.errorClass).html("<span>"+e+"</span>");this.errorPlacement(r,t),t.addClass(this.errorClass),this.container&&this.container.append(r)},t.prototype.errorPlacement=function(t,e){e.parent().append(t)},t.prototype.clear=function(){$(this.context).find("label[class="+this.errorClass+"]").remove(),$(this.context).find("."+this.errorClass).removeClass(this.errorClass)},t.prototype.valid=function(t){this.clear();var e,r=!0;e=t?$(t):$(this.context).find("["+this.placeholder+"]");var u=this;return e.each(u.hitch(this,function(t,e){var u=this._validation($(e));u&&(this.showLabel($(e),u),r=!1)})),r},t.prototype.hitch=function(t,e){return t?function(){return e.apply(t,arguments||[])}:e},t.prototype.custom=function(){return!0},t.prototype.required=function(t){return null==t?!1:!/^\s*$/.test(t)},t.prototype.range=function(t,e){return this.required(t)?(t=parseFloat(t),e[0]<=t&&t<=e[1]):!0},t.prototype.rangeString=function(t,e){if(!this.required(t))return!0;var r=t.length;return e[0]<=r&&r<=e[1]},t.prototype.maxLength=function(t,e){return this.required(t)?t.length<=e:!0},t.prototype.date=function(t){return this.required(t)?!/Invalid|NaN/.test(new Date(t).toString()):!0},t.prototype.number=function(t){return this.required(t)?/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t):!0},t.prototype.digits=function(t){return this.required(t)?/^\d+$/.test(t):!0},t.prototype.phoneNo=function(t){return this.required(t)?/^[1][3458]\d{9}$/.test(t):!0},t.prototype.image=function(t){if(!this.required(t))return!0;var e=t.split(".");return e.length<=1?!1:/^(jpg|gif|png|bmp)$/i.test(e[e.length-1].toLocaleLowerCase())},t.prototype.url=function(t){return this.required(t)?/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t):!0},t.prototype.maxTo=function(t,e){if(t=$(t),!this.required(t.val()))return!0;var r=parseFloat(t.val());return tv=parseFloat("prev"===e?t.prev().val():$(e).val()),r>tv},t.prototype.maxEqualTo=function(t,e){if(t=$(t),!this.required(t.val()))return!0;var r=parseFloat(t.val());return tv=parseFloat("prev"===e?t.prev().val():$(e).val()),r>=tv},t.prototype.minEqualTo=function(t,e){if(t=$(t),!this.required(t.val()))return!0;var r=parseFloat(t.val());return tv=parseFloat("prev"===e?t.prev().val():$(e).val()),tv>=r},t.prototype.match=function(t,e){if(!this.required(t))return!0;var r=new RegExp(e);return r.test(t)},t});