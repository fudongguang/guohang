!function(t){t(document).on("touchmove",function(t){t.preventDefault()});var e={itemSelector:".page"};t.fn.pageSlider=function(i){i=t.extend({},e,i);var n,o,a=t(this),s=t(this).find(e.itemSelector),c=a.height(),r=a.width(),h=i.canloop||!1,d=!1,u=!1,l=0,f=!1,p="h"===i.direction?!1:!0,g=p?c:r,v=0,m=!1,w=.2*g;if(!(s.length<2)){s.hide().css("position","absolute"),s.eq(0).css({left:0,top:0}).show().attr("id","touchSliderCurPage");var b=t('<div style="position: absolute;left: 0;top:0;width:100%;height:100%;background-color: rgba(0,0,0,0.6);z-index:10;display: none;opacity: 1;"></div>');a.append(b),a.on("touchstart",function(e){if(f)return!1;m=!0,v=0;var i=e.touches[0];l=p?i.clientY:i.clientX,d=!1,u=!1,n=t("#touchSliderCurPage")}).on("touchmove",function(t){if(f||!m)return!1;var e=t.touches[0],i=p?e.clientY:e.clientX,a=0;if(v=i-l,0>v&&!f){if(a=g+v,o=n.next(".page"),n.prev(".page").hide(),!o.length&&!h)return!1;!o.length&&h&&(o=s.eq(0)),u=!0,S(a)}if(v>0&&!f){if(a=-g+v,o=n.prev(".page"),n.next(".page").hide(),!o.length&&!h)return!1;!o.length&&h&&(o=s.eq(s.length-1)),d=!0,S(a)}}).on("touchend",function(){return m?(m=!1,void((u||d)&&x())):!1});var x=function(){if(f||!o.length)return t("#touchSliderCurPage").css("opacity",1).show().css("top",0),!1;f=!0;var e=p?"top":"left",i=0,a=[];w>Math.abs(v)&&(i=u?g:-g),a[e]=i,o.animate(a,250,"ease-in",function(){w<Math.abs(v)?(n.hide().removeAttr("id").css("opacity",1),n.find(".J_animation").hide(),n.find(".J_animationPrice").css("-webkit-animation","none"),o.attr("id","touchSliderCurPage").css("z-index","inherit").show().css("top",0),o.find(".J_animation").show(),o.find(".J_animationPrice").css("-webkit-animation","swing .5s 2 ease-in 1.5s")):(n.css("opacity",1).show().css("top",0),o.hide()),b.hide(),v=0,f=!1})},S=function(t){var e=Math.abs(v)/(p?c:r);e>.8&&(e=.8),b.show().css("background-color","rgba(0,0,0,"+e+")"),o.css(p?"top":"left",t+"px").css("z-index",100).show()}}}}(Zepto);